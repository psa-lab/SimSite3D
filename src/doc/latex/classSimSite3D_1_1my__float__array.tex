\section{ASCbase::my\_\-float\_\-array Class Reference}
\label{classASCbase_1_1my__float__array}\index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
Note no copy constructor so copying will result in pain.  


{\tt \#include $<$my\_\-float\_\-array.H$>$}

\subsection*{Public Member Functions}
\begin{CompactItemize}
\item 
\bf{my\_\-float\_\-array} (uint init\_\-num\_\-pts=10, uint stride\_\-in=3)\label{classASCbase_1_1my__float__array_d9b0cb450e669b9e4b7bdced7c36a466}

\begin{CompactList}\small\item\em Cstor to set up floating pt array. \item\end{CompactList}\item 
\bf{my\_\-float\_\-array} (const \bf{my\_\-float\_\-array} \&src)\label{classASCbase_1_1my__float__array_a6269a44c631f4fe16c92229f4f128e5}

\begin{CompactList}\small\item\em Copy in a reasonable manner. \item\end{CompactList}\item 
const \bf{my\_\-float\_\-array} \& \bf{operator=} (const \bf{my\_\-float\_\-array} \&src)
\item 
\bf{$\sim$my\_\-float\_\-array} ()\label{classASCbase_1_1my__float__array_604d58f23c22a431770fb11f97fc2a99}

\begin{CompactList}\small\item\em Dstor. \item\end{CompactList}\item 
uint \textbf{size} () const \label{classASCbase_1_1my__float__array_c15df63500d30ce66dee8a118b69821d}

\item 
uint \textbf{stride} () const \label{classASCbase_1_1my__float__array_ca02b23f8fd6e8a60a28e4cfae8a648e}

\item 
uint \textbf{reserved} () const \label{classASCbase_1_1my__float__array_ad39c32e4901faa77e113451f3292cd5}

\item 
my\_\-float\_\-t $\ast$ \textbf{begin} () const \label{classASCbase_1_1my__float__array_764b70c62326d6ed689ecc3fdce08c5a}

\item 
my\_\-float\_\-t $\ast$ \textbf{end} () const \label{classASCbase_1_1my__float__array_62e4444b755858beec023de8d9fceeef}

\item 
my\_\-float\_\-array\_\-push\_\-back\_\-return\_\-type \bf{push\_\-back} (const my\_\-float\_\-t $\ast$el)
\begin{CompactList}\small\item\em Push back an element of length \_\-stride onto the array. \item\end{CompactList}\item 
void \bf{transform3D} (const my\_\-float\_\-t $\ast$R, const my\_\-float\_\-t $\ast$T)
\begin{CompactList}\small\item\em Apply a rotation + translation current array. \item\end{CompactList}\item 
void \bf{inverse\_\-transform3D} (const my\_\-float\_\-t $\ast$R, const my\_\-float\_\-t $\ast$T)
\begin{CompactList}\small\item\em Apply a negative translation and inverse rotation. \item\end{CompactList}\item 
void \bf{revert} ()\label{classASCbase_1_1my__float__array_5612962a30bbc36661eab21d94a172a7}

\begin{CompactList}\small\item\em Reset the positions of the atoms to their original positions. \item\end{CompactList}\item 
void \bf{set\_\-current\_\-values\_\-as\_\-original} ()
\begin{CompactList}\small\item\em Set the current values as the original values. \item\end{CompactList}\item 
const bool \bf{centroid\_\-3D} (my\_\-float\_\-t $\ast$C) const \label{classASCbase_1_1my__float__array_c716853fd605ff6e32d4ede02cedb7b0}

\begin{CompactList}\small\item\em Get the centroid (assumes 3D points). \item\end{CompactList}\item 
void \bf{get\_\-current\_\-inverse\_\-3D\_\-transform} (Quaternion $\ast$Q, my\_\-float\_\-t $\ast$T) const 
\item 
my\_\-float\_\-t \bf{compute\_\-RMSD} () const 
\end{CompactItemize}
\subsection*{Private Member Functions}
\begin{CompactItemize}
\item 
void \textbf{init} ()\label{classASCbase_1_1my__float__array_cd4c500b6129b80a28b9aaf3c9253d2f}

\item 
void \bf{double\_\-reserve} ()\label{classASCbase_1_1my__float__array_70345204169e7017a18fb1c0de64336d}

\begin{CompactList}\small\item\em Double the array reserve. \item\end{CompactList}\item 
void \bf{update\_\-orig\_\-pts} ()\label{classASCbase_1_1my__float__array_2a888e41827034da0597d88b1e3470e7}

\begin{CompactList}\small\item\em Set the original array. \item\end{CompactList}\item 
void \bf{do\_\-copy} (const \bf{my\_\-float\_\-array} \&src)
\end{CompactItemize}
\subsection*{Private Attributes}
\begin{CompactItemize}
\item 
uint \textbf{\_\-stride}\label{classASCbase_1_1my__float__array_4af7ff17850cdafd9a355127d0f2cca0}

\item 
int \textbf{\_\-reserved}\label{classASCbase_1_1my__float__array_44dc5f56c5c8597129fcc91bf52bd093}

\item 
my\_\-float\_\-t $\ast$ \bf{orig}\label{classASCbase_1_1my__float__array_7bab1066585311c5b0e185761dcafd05}

\begin{CompactList}\small\item\em Beginning of points as added to this object. \item\end{CompactList}\item 
my\_\-float\_\-t $\ast$ \bf{orig\_\-end}\label{classASCbase_1_1my__float__array_22aefb5abe3a4e1ada9cacfb6b5464b3}

\begin{CompactList}\small\item\em End of points as added to this object. \item\end{CompactList}\item 
my\_\-float\_\-t $\ast$ \bf{curr}\label{classASCbase_1_1my__float__array_4dfcdb66fffd9a861988c5343f263ffd}

\begin{CompactList}\small\item\em Beginning of current points (after 0 or more transformations). \item\end{CompactList}\item 
my\_\-float\_\-t $\ast$ \bf{curr\_\-end}\label{classASCbase_1_1my__float__array_38577011f5ee6e411ef96f3a8b8143b2}

\begin{CompactList}\small\item\em End of current points (after 0 or more transformations). \item\end{CompactList}\item 
my\_\-float\_\-t $\ast$ \bf{scratch}\label{classASCbase_1_1my__float__array_4bab597976578f4d790991065b9b417e}

\begin{CompactList}\small\item\em Scratch space -- keep from frequently grabbing new mem. \item\end{CompactList}\end{CompactItemize}


\subsection{Detailed Description}
Note no copy constructor so copying will result in pain. 



\subsection{Member Function Documentation}
\index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!compute_RMSD@{compute\_\-RMSD}}
\index{compute_RMSD@{compute\_\-RMSD}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}my\_\-float\_\-t ASCbase::my\_\-float\_\-array::compute\_\-RMSD () const\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_ea4337b692bde44840c4affc07cf7095}


Compute the root mean squared deviation (RMSD) between the current and orignial points \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!do_copy@{do\_\-copy}}
\index{do_copy@{do\_\-copy}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void my\_\-float\_\-array::do\_\-copy (const \bf{my\_\-float\_\-array} \& {\em src})\hspace{0.3cm}{\tt  [private]}}\label{classASCbase_1_1my__float__array_06718ce6dbd8d6904e31f34943499e09}


Copy routine -- everyone else is expected to handle any stale pointers \& updating \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!get_current_inverse_3D_transform@{get\_\-current\_\-inverse\_\-3D\_\-transform}}
\index{get_current_inverse_3D_transform@{get\_\-current\_\-inverse\_\-3D\_\-transform}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void ASCbase::my\_\-float\_\-array::get\_\-current\_\-inverse\_\-3D\_\-transform (Quaternion $\ast$ {\em Q}, my\_\-float\_\-t $\ast$ {\em T}) const\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_f341a7e9e7bde491843bf95e61650eee}


Note: since a chain of transformations is in general difficult or even impossible to invert, this method is somewhat computationally expensive as it uses a least squares fit of all the points \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!inverse_transform3D@{inverse\_\-transform3D}}
\index{inverse_transform3D@{inverse\_\-transform3D}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void ASCbase::my\_\-float\_\-array::inverse\_\-transform3D (const my\_\-float\_\-t $\ast$ {\em R}, const my\_\-float\_\-t $\ast$ {\em T})\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_36cecd78c077ff31ded38a0194b862f2}


Apply a negative translation and inverse rotation. 

Transform the positions by -T and then rotate by R$^\wedge$t \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!operator=@{operator=}}
\index{operator=@{operator=}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const \bf{my\_\-float\_\-array}\& ASCbase::my\_\-float\_\-array::operator= (const \bf{my\_\-float\_\-array} \& {\em src})\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_cf2256fd42e02535450e38db5350b987}


Assignment operator -- other classes may need to take care of stale pointers \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!push_back@{push\_\-back}}
\index{push_back@{push\_\-back}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}my\_\-float\_\-array\_\-push\_\-back\_\-return\_\-type ASCbase::my\_\-float\_\-array::push\_\-back (const my\_\-float\_\-t $\ast$ {\em el})\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_d1cf330a07c7789f5ef224cc93374277}


Push back an element of length \_\-stride onto the array. 

If el does not have a length of at least \_\-stride, the operation is undefined.

Warning: do not use this function once the positions have been transformed or the results may be different than expected \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!set_current_values_as_original@{set\_\-current\_\-values\_\-as\_\-original}}
\index{set_current_values_as_original@{set\_\-current\_\-values\_\-as\_\-original}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void ASCbase::my\_\-float\_\-array::set\_\-current\_\-values\_\-as\_\-original ()\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_a98bd8a8f5970ca4cd7523e15a0af9f8}


Set the current values as the original values. 

This functionality is useful when we want to read in a set of data points and apply some initial calculations and set the updated values as the original. In this way, we will revert to the initialized values and not the values when the array was first created. \index{ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}!transform3D@{transform3D}}
\index{transform3D@{transform3D}!ASCbase::my_float_array@{ASCbase::my\_\-float\_\-array}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}void ASCbase::my\_\-float\_\-array::transform3D (const my\_\-float\_\-t $\ast$ {\em R}, const my\_\-float\_\-t $\ast$ {\em T})\hspace{0.3cm}{\tt  [inline]}}\label{classASCbase_1_1my__float__array_6539a83a54fe3c26d54f4bce4bfc7057}


Apply a rotation + translation current array. 

For now a BLAS interface is more of a dream than reality and the code used to implement BLAS routines would be at best the same speed as here (even though this might be dastardly slow comapred with ATLAS BLAS)

-- array version for(uint z = 0; z $<$ coords\_\-end - coords; z += 3) for(uint i = 0; i $<$ 3; ++i)\{ scratch[z + i] = T[i]; for(uint j = 0; j $<$ 3; ++j) scratch[z + i] += R[3$\ast$i + j] $\ast$ coords[z + j]; \} 

The documentation for this class was generated from the following files:\begin{CompactItemize}
\item 
my\_\-float\_\-array.H\item 
my\_\-float\_\-array.C\end{CompactItemize}
