<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>simsite3d: SimSite3D::ScoreMapBase Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<b>SimSite3D</b>::<a class="el" href="classSimSite3D_1_1ScoreMapBase.html">ScoreMapBase</a></div>
<h1>SimSite3D::ScoreMapBase Class Reference</h1><!-- doxytag: class="SimSite3D::ScoreMapBase" --><code>#include &lt;<a class="el" href="ScoreMapBase_8H-source.html">ScoreMapBase.H</a>&gt;</code>
<p>
<p>Inheritance diagram for SimSite3D::ScoreMapBase:
<p><center><img src="classSimSite3D_1_1ScoreMapBase.png" usemap="#SimSite3D::ScoreMapBase_map" border="0" alt=""></center>
<map name="SimSite3D::ScoreMapBase_map">
<area href="classSimSite3D_1_1ScoreRigidAlignments.html" alt="SimSite3D::ScoreRigidAlignments< tier1_SF, tier2_SF, align_T >" shape="rect" coords="574,56,947,80">
<area href="classSimSite3D_1_1ScoreRigidAlignments.html" alt="SimSite3D::ScoreRigidAlignments< std::greater< double > >" shape="rect" coords="957,56,1330,80">
<area href="classSimSite3D_1_1ScoreRigidAlignments.html" alt="SimSite3D::ScoreRigidAlignments< std::less< double > >" shape="rect" coords="1340,56,1713,80">
<area href="classSimSite3D_1_1EllipsoidalHbondsScore.html" alt="SimSite3D::EllipsoidalHbondsScore" shape="rect" coords="0,112,373,136">
<area href="classSimSite3D_1_1PsuedoLigRmsd.html" alt="SimSite3D::PsuedoLigRmsd" shape="rect" coords="383,112,756,136">
<area href="classSimSite3D_1_1SimplifiedMayoHbondsScore.html" alt="SimSite3D::SimplifiedMayoHbondsScore" shape="rect" coords="766,112,1139,136">
<area href="classSimSite3D_1_1TestScoring.html" alt="SimSite3D::TestScoring" shape="rect" coords="1149,112,1522,136">
</map>
<a href="classSimSite3D_1_1ScoreMapBase-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#17c627b5ef8a777466b2f9ebc50bd228">ScoreMapBase</a> (const <a class="el" href="classSimSite3D_1_1SearchParameters.html">SearchParameters</a> &amp;params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="53cc54d782902810408e5e4ebcbbffd5"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::~ScoreMapBase" ref="53cc54d782902810408e5e4ebcbbffd5" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#53cc54d782902810408e5e4ebcbbffd5">~ScoreMapBase</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">basic destruction <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#d24ec72fca67bdacb134c71a0e78e9d6">set_external_scoring_method</a> (const std::string sf_name, std::string method_name)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;class align_mmap_iter&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#85708eaffffc9a4e36bbd7375b552586">run_external_scoring_method</a> (align_mmap_iter a_beg, align_mmap_iter a_end, const std::string &amp;prot_fname, const std::string &amp;struct_id, const std::string &amp;output_dir)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run the external scoring function over all the saved alignments.  <a href="#85708eaffffc9a4e36bbd7375b552586"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b5ee9de7e756e9c6ee3058c475a95958"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::get_ext_SF_names" ref="b5ee9de7e756e9c6ee3058c475a95958" args="(std::vector&lt; std::string &gt; *names)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#b5ee9de7e756e9c6ee3058c475a95958">get_ext_SF_names</a> (std::vector&lt; std::string &gt; *names)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the name(s) of the external scoring function(s). <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="784728589fd2db54ce16e5043db3c349"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::A_scratch_dir" ref="784728589fd2db54ce16e5043db3c349" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><b>A_scratch_dir</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c11f067cce7e9e72f38b4cdc2abde485"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::A_write_ligands" ref="c11f067cce7e9e72f38b4cdc2abde485" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#c11f067cce7e9e72f38b4cdc2abde485">A_write_ligands</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">True =&gt; write ligs and frags, else do not write. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="42d2d13e5fa5d7492495dd531246f8a5"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::A_prot_lig_score" ref="42d2d13e5fa5d7492495dd531246f8a5" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#42d2d13e5fa5d7492495dd531246f8a5">A_prot_lig_score</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">True ==&gt; compute query prot -- dbase lig frag affi and orient scores. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b6bfd4fcc3263c7ee1cc86c856cea184"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::ext_SF_id" ref="b6bfd4fcc3263c7ee1cc86c856cea184" args="" -->
std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#b6bfd4fcc3263c7ee1cc86c856cea184">ext_SF_id</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Label given to the ext. prot-lig scoring fcn. <br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="490667b180269340cbf0017b282eabb6"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::A_external_SF" ref="490667b180269340cbf0017b282eabb6" args="" -->
<a class="el" href="classSimSite3D_1_1ExternalScoringFunction.html">ExternalScoringFunction</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSimSite3D_1_1ScoreMapBase.html#490667b180269340cbf0017b282eabb6">A_external_SF</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">external prot-lig score fcn ptr <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Because of the gcc model, we must have all template definitions included in all the source files which use the functions, classes, etc that are prototyped and defined using the template keyword. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="17c627b5ef8a777466b2f9ebc50bd228"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::ScoreMapBase" ref="17c627b5ef8a777466b2f9ebc50bd228" args="(const SearchParameters &amp;params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SimSite3D::ScoreMapBase::ScoreMapBase           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSimSite3D_1_1SearchParameters.html">SearchParameters</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>params</em>&nbsp;</td><td>Reference to the search's runtime parameters </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="85708eaffffc9a4e36bbd7375b552586"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::run_external_scoring_method" ref="85708eaffffc9a4e36bbd7375b552586" args="(align_mmap_iter a_beg, align_mmap_iter a_end, const std::string &amp;prot_fname, const std::string &amp;struct_id, const std::string &amp;output_dir)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class align_mmap_iter&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool SimSite3D::ScoreMapBase::run_external_scoring_method           </td>
          <td>(</td>
          <td class="paramtype">align_mmap_iter&nbsp;</td>
          <td class="paramname"> <em>a_beg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">align_mmap_iter&nbsp;</td>
          <td class="paramname"> <em>a_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>prot_fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>struct_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>output_dir</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the external scoring function over all the saved alignments. 
<p>
For a given SimSite3D run, the model sitemap is held constant. Thus, we need only one protein_file. For each saved alignment, score the protein and the saved ligand fragment.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>protein_file</em>&nbsp;</td><td>Protein PDB corresponding to the model sitemap </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output_dir</em>&nbsp;</td><td>Directory holding the ligand fragments </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if the scoring function was initialized, else false </dd></dl>

</div>
</div><p>
<a class="anchor" name="d24ec72fca67bdacb134c71a0e78e9d6"></a><!-- doxytag: member="SimSite3D::ScoreMapBase::set_external_scoring_method" ref="d24ec72fca67bdacb134c71a0e78e9d6" args="(const std::string sf_name, std::string method_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SimSite3D::ScoreMapBase::set_external_scoring_method           </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>sf_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>method_name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Setup the external scoring function. This function is in this class since it acts as a storage class for the alignments<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sf_name</em>&nbsp;</td><td>Path to the external scoring function file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>method_name</em>&nbsp;</td><td>Name of the external scoring function (as stored in the external_scoring_functions.txt file) </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>True if method was found, else false </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ScoreMapBase_8H-source.html">ScoreMapBase.H</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Apr 3 23:09:19 2012 for simsite3d by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
